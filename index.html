<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odin Paper-Rock-Scissors</title>
</head>
<body>

    <h1>Console based Paper-Rock-Scissors</h1>
    <h3>-- Press F12 and go to console to view results --</h3>

    <script>
        //Determine the Winner
        function chooseWinner(computerChoice,playerChoice) {
            if (computerChoice == playerChoice) {
                return `It's a DRAW`;
            } else if (((playerChoice == 0) && (computerChoice == 2)) || ((playerChoice == 1) && (computerChoice == 0)) || ((playerChoice == 2) && (computerChoice == 1))) { 
                playerScore++
                return `You WIN! ${RPS[playerChoice].toUpperCase()} beats ${RPS[computerChoice].toUpperCase()}`;  
            } else {
                computerScore++
                return `You LOSE! ${RPS[computerChoice].toUpperCase()} beats ${RPS[playerChoice].toUpperCase()}`;
            }
        }

        //Play a game
        function singleGame() {
            const playerChoice = parseInt(prompt("1-Rock, 2-Paper, 3-Scissors! Shoot! ")) - 1;
            const computerChoice = Math.floor(Math.random() * 3);

            if ((typeof(playerChoice) != 'number') || (playerChoice > RPS.length-1)) {
                console.log("Please choose from 1-Rock, 2-Paper, 3-Scissors! Shoot! \n")
            } else {
                console.log(chooseWinner(computerChoice,playerChoice));
            }

        }

        //Best of 5
        function gameLoop() {
            while ((playerScore < 5) && (computerScore < 5)) {
                singleGame();
                console.log(`You = ${playerScore}, CPU = ${computerScore}\n\n`);
            }

            //Final Score
            if(playerScore == 5) {
                console.log('You WIN the set!!! Welldone!');
            } else {
                console.log('You LOST! Better luck next time!');
            }
        }

        //Intialise the start variables
        let playerScore = 0;
        let computerScore = 0;
        const RPS = ["rock","paper","scissors"];

        gameLoop();
        
    </script>
</body>
</html>